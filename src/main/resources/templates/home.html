<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<!-- 공통 header -->
<div th:replace="/fragments/header.html::fragment-header"></div>

<body>
  <!-- 공통 nav -->
  <div th:replace="/fragments/nav.html::fragment-nav"></div>


  <!-- ======= Hero Section ======= -->
  <section id="hero" class="d-flex align-items-center">
    <div class="container position-relative" data-aos="fade-up" data-aos-delay="100">
      <div class="row justify-content-center">
        <div class="col-xl-7 col-lg-9 text-center">
          <h1>P2K web page</h1>
          <h2><a th:text="${user.name}"></a>님 환영합니다.</h2>
        </div>
      </div>
      <div class="text-center">
        <a href="/vm/create" class="btn-get-started scrollto">가상환경 생성하기</a>
      </div>
    </div>
  </section>

  <main id="main">

    <!--    강좌 목록-->
    <section id="vm" class="pricing">
      <div class="container" data-aos="fade-up">
        </br>
        </br>

        <div class="section-title">
          <h2><a th:text="${user.name}"></a>님의 가상환경 목록</h2>
        </div>
        </br>

        <div class="row">
          <div class="col-lg-3 col-md-5" data-aos="zoom-im" data-aos-delay="100" th:each="v : ${vm}">
            <div class="box">
              <h3 th:text="${v.vmname}"></h3>
              <input hidden id="vmId" type="text" th:value="${v.id}"/>
              <input hidden id="vmPort" type="text" th:value="${v.port}"/>
              <p class="card-text text-center"><span th:if="${v.scope}">전체공개</span></p>
              <p class="card-text text-center"><span th:if="!${v.scope}">비공개</span></p>
              <p class="card-text text-center"><span th:if="${v.control}">누구나 제어 가능</span></p>
              <p class="card-text text-center"><span th:if="!${v.control}">보기만 가능</span></p>
              <div class="btn-wrap">
                <button class="btn btn-primary" th:onclick="|javascript:alert('${v.port}')|">접속하기</button>
              </div>
            </div>
          </div>
        </div>
        </div>
    </section><!-- End Pricing Section -->

<!--    강좌 목록-->
    <section id="course" class="pricing">
      <div class="container" data-aos="fade-up">
        </br>
        </br>

        <div class="section-title">
          <h2><a th:text="${user.name}"></a>님이 신청한 강좌 목록</h2>
        </div>
        </br>

        <div class="row">
          <div class="col-lg-3 col-md-5" data-aos="zoom-im" data-aos-delay="100" th:each="c : ${courses.getCourses()}">
            <div class="box">
              <h3><a th:href="@{/courses/__${c.id}__/my-vm}" th:text="${c.name}"></a></h3>
<!--              <div class="btn-wrap">-->
<!--                <button class="btn btn-primary" th:onclick="|javascript:alert('${v.port}')|">접속하기</button>-->
<!--              </div>-->
            </div>
          </div>
        </div>

      </div>
    </section><!-- End Pricing Section -->



  </main><!-- End #main -->

  <!-- 공통 footer -->
  <div th:replace="/fragments/footer.html::fragment-footer"></div>

  <div id="preloader"></div>
  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- 공통 script -->
  <div th:replace="/fragments/script.html::fragment-script"></div>

</body>

</html>